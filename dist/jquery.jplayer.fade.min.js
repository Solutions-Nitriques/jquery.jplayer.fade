/*! jPlayer Sound Fade in/out plugin - v1.0.0 - 2012-12-10
* https://github.com/Solutions-Nitriques/jquery.jplayer.fade
* Copyright (c) 2012 Deux Huit Huit; Licensed MIT */
(function(a,b){"use strict";var c=function(b){return b=a(b),isNaN(b.data("org-vol"))&&b.data("org-vol",b.jPlayer("option","volume")),b},d=function(a,b){!!console&&!!console.log&&b&&console.log(a)},e=function(a,b){a.jPlayer("volume",b),a.data("volume",b)},f=function(b,f,g,h,i,j){b=c(b),h>g&&!isNaN(b.data("volume"))&&b.data("volume")>g&&(g=b.data("volume")),g>h&&!isNaN(b.data("volume"))&&b.data("volume")<g&&(g=b.data("volume"));var k=h-g,l=f<1?-1:f/100,m=l<1?0:f/l,n=k/l,o=0,p=function(){if(o<=l){var c=g+n*o;b.data("is-fading",!0),isNaN(c)?d("[player] #"+b.attr("id")+" ***NaN",j):(e(b,c),b.data("fadeout",setTimeout(p,m)),d("[player] #"+b.attr("id")+" volume set to "+c,j)),o++}else e(b,h),d("[player] #"+b.attr("id")+" volume set to "+h+" -- end",j),b.data("is-fading",!1),a.isFunction(i)&&i.call(b)};return k!==0&&!isNaN(k)?(clearTimeout(b.data("fadeout")),p()):(d("[player] #"+b.attr("id")+" fade out skipped",j),a.isFunction(i)&&i.call(b)),b},g=function(a,b,d,e,g,h){return a=c(a),d=d!=null&&!isNaN(d)?d:parseFloat(a.data("org-vol"),10),e=e!=null&&!isNaN(e)?e:0,f(a,b,d,e,g,h)},h=function(a,b,d,e,g,h){return a=c(a),d=d!=null&&!isNaN(d)?d:0,e=e!=null&&!isNaN(e)?e:parseFloat(a.data("org-vol"),10),f(a,b,d,e,g,h)},i=function(a){return!!a.data("is-fading")};a.isFunction(a.jPlayer)&&!a.isFunction(a.jPlayer.fadeTo)&&(a.extend(a.jPlayer,{fadeTo:f,fadeOut:g,fadeIn:h,isFading:i}),a.fn.jPlayerFade||a.extend(a.fn,{jPlayerFade:function(b){var c=a(this);return{to:function(d,e,f,g){return a.jPlayer.fadeTo(c,d,e,f,g,b)},"in":function(d,e,f,g){return a.jPlayer.fadeIn(c,d,e,f,g,b)},out:function(d,e,f,g){return a.jPlayer.fadeOut(c,d,e,f,g,b)},isFading:function(){return i(c)}}}}))})(jQuery);